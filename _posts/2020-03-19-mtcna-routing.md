---
layout: post
title: MTCNA - Routing
category: notes
date: 2020-03-19T10:00:00
tags: mikrotik mtcna router-board routerOS routing
comments: false
---
مقدماتی درباره مسیریابی و نحوه تحریف static route در میکروتیک
<!--break-->

پکت از زمانی که تولید میشه تازمانی که به مقصد میرسه این روتینگ هست که داره هدایتش میکنه که کجا بره

روتینگ یه فرآیند لایه ۳یی هست و ما توی جدول روتینگ مشخص کنیم که سابنت ها به کجا هدایت شن. به این قوانین Rule گفته میشه که توی جدول ip route ذخیره میشن.

برای مشاهده IP > Routes  رو باید ببینیم

## Route flags
- X: Disabled غیرفعال شده و هیچ تاثیری روی فرآیند مسیریابی نداره
- A: Active فعاله و استفاده میشه
- C: Connected مسیرایی که بواسطه اضافه کردن IP Address ها اضافه شدن. ینی وقتی به interface ها IP میدیم یه route به صورت اتومات به این جدول اضافه میشه که مشخص کننده آدرس شبکه اون روتره
- D: Dynamic ینی توسط ما اضافه نشده بلکه از طریق یه اپلیکیشن اضافه شده
- S: Static ینی به صورت دستی اضافه شد تا مسیرهایی ایجاد کن تا پکت‌هارو مجبور کنن و از یه مسیر خاص فوروارد کنن. مثلا وقتی که بخواهیم به یک شبکه‌ای که مستقیم به روتر ما وصل نشدن دسترسی داشته باشیم باید براش static route بنویسیم.
- R, O, B: RIP, OSPF, EIGRP,… که بهشون نمیپردازیم

در بین route های داخل لیست فقط استاتیک هارو میتونیم خودمون حذف کنیم.


## Routing

دوچیز اینجا لازمه یکی Destination و دیگری Gateway 

برای مثال وقتی یکی ازمون آدرس میپرسه ما ازش مقصد رو میپرسیم و نسبت به اون بهش میگیم از کجا بره.
 
توی انتخاب مسیر در مسیریابی پارامترهای مختلفی تاثیر دارن که شامل مثل فاصله، پهنای باند، تعداد روتر های در مسیر، روتینگ مارک هاو…

برای اضافه کردن یک static route فرض میکنیم که دوتا روتر داریم و میخوایم ترافیکی رو به روتر دوممون بفرستیم. پس Destination در واقع IP های روتر دوم هست و Gateway هم آدرس IP یا interface یی از روتر اول که به روتر دوم متصله

توی قوانین روتینگ سابنتینگ مطرح نیست و نباید مثلا اولین و آخرین آدرس رو ignore کنیم.

توی جدول route ها ترتیب هم مهم نیست

 Pref.Source در واقع مبدا پکت هایی رو مشخص میکنه از داخل خود روتر تولید میشن